---
alwaysApply: true
---
# NodeGraphæ™ºèƒ½Timelineè‡ªåŠ¨ç”Ÿæˆç³»ç»Ÿ

## ğŸ¯ æ ¸å¿ƒä»»åŠ¡ç›®æ ‡
å¯¹NodeGraph SOæ–‡ä»¶ä¸­çš„æ‰€æœ‰FlowEventNodeèŠ‚ç‚¹ï¼Œæ™ºèƒ½éå†å’Œåˆ†ætimelineæè¿°ä¿¡æ¯ï¼Œè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„timelineæ¨¡æ¿å’Œclip2æ ·å¼ï¼Œç”Ÿæˆç›¸åº”çš„timelineå¹¶å¡«å……å›NodeGraphä¸­ã€‚

##âš ï¸ é‡è¦ä¿®æ”¹è¯´æ˜
**é»˜è®¤clip2æ ·å¼å·²ä» `default_bounce_animation` æ›´æ”¹ä¸º `camera_focus_only`**
- å½“ç‰©ä½“timelineå†…å®¹æè¿°ä¸æ˜ç¡®æˆ–æ— æ³•åŒ¹é…åˆ°å…·ä½“æ“ä½œç±»å‹æ—¶ï¼Œä½¿ç”¨ `camera_focus_only` ä½œä¸ºé»˜è®¤é€‰é¡¹
- åªæœ‰æ˜ç¡®çš„æŒ‰å‹æ“ä½œæè¿°æ‰ä½¿ç”¨ `default_bounce_animation`
- è¿™æ ·å¯ä»¥é¿å…ä¸åˆé€‚çš„å¼¹è·³åŠ¨ç”»æ•ˆæœ

## ğŸ—ï¸ Timelineåˆ›å»ºæ¶æ„è¯´æ˜

### TimelineManagerç»Ÿä¸€ç®¡ç†
- **ç»Ÿä¸€PlayableDirector**: æ‰€æœ‰timelineå…±äº«ä¸€ä¸ªTimelineManagerç‰©ä½“ä¸Šçš„PlayableDirectorç»„ä»¶
- **è‡ªåŠ¨åˆ›å»ºæœºåˆ¶**: å¦‚æœåœºæ™¯ä¸­ä¸å­˜åœ¨åä¸º"TimelineManager"çš„ç‰©ä½“ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºï¼š
  - åˆ›å»ºç©ºGameObjectå‘½åä¸º"TimelineManager"
  - æ·»åŠ PlayableDirectorç»„ä»¶
  - æ·»åŠ TimelineManager.csè„šæœ¬ï¼ˆè·¯å¾„ï¼šAssets/NodeGraphTool/Runtime/Managerï¼‰
  - è®¾ç½®å‚æ•°ï¼šç›®æ ‡timelineä¸ºå½“å‰PlayableDirectorï¼Œæ˜¯å¦éœ€è¦å®ä¾‹åŒ–ä¸ºtrue
- **å¤ç”¨æœºåˆ¶**: å¦‚æœå·²å­˜åœ¨TimelineManagerï¼Œç›´æ¥ä½¿ç”¨å…¶PlayableDirectorç»„ä»¶è¿›è¡Œtimelineåˆ›å»º

### Timelineç»‘å®šç®¡ç†
- **ç»‘å®šæ³¨å†Œç³»ç»Ÿ**: æ¯ä¸ªåˆ›å»ºçš„Timelineéƒ½ä¼šè‡ªåŠ¨æ³¨å†Œå…¶è½¨é“ä¸ç‰©ä½“çš„ç»‘å®šå…³ç³»åˆ°TimelineManagerçš„PlayableDirector
- **è‡ªåŠ¨ç»„ä»¶æ·»åŠ **: ç³»ç»Ÿä¼šè‡ªåŠ¨ä¸ºéœ€è¦çš„ç‰©ä½“æ·»åŠ Animatorç»„ä»¶
- **ç»‘å®šä¿¡æ¯è®°å½•**: åˆ›å»ºç»“æœä¸­åŒ…å«è¯¦ç»†çš„ç»‘å®šä¿¡æ¯ï¼Œæ ¼å¼ä¸º"è½¨é“å -> ç‰©ä½“å"
- **Timelineå¤åˆ¶æœºåˆ¶**: TimelineManager.csä¸­çš„ResetTimelineBindingæ–¹æ³•ä¼šåœ¨æ’­æ”¾æ—¶å°†ç»‘å®šå¤åˆ¶åˆ°ä¸´æ—¶çš„PlayableDirector

## ğŸ’¡ æ™ºèƒ½Timelineç”Ÿæˆç­–ç•¥

### æ ¸å¿ƒåˆ¤æ–­è§„åˆ™
åŸºäºNodeGraphä¸­å››ä¸ªå…³é”®å­—æ®µçš„åˆ†æè¿›è¡Œæ™ºèƒ½é€‰æ‹©ï¼š
- **ç›¸æœºtimelineåç§°** (camera_timeline_name)
- **ç›¸æœºtimelineå†…å®¹** (camera_timeline_content)  
- **ç‰©ä½“timelineåç§°** (object_timeline_name)
- **ç‰©ä½“timelineå†…å®¹** (object_timeline_content)

### ç”Ÿæˆæ–¹å¼è‡ªåŠ¨é€‰æ‹©

#### **è§„åˆ™1: çº¯ç›¸æœºèšç„¦æ¨¡å¼**
```
è§¦å‘æ¡ä»¶ï¼š
- "ç‰©ä½“timelineåç§°" ä¸ºç©ºæˆ–åŒ…å« ["-", "æ— ", "ç©º", "null", "none", "è·³è¿‡"]
- "ç‰©ä½“timelineå†…å®¹" ä¸ºç©ºæˆ–åŒ…å« ["-", "æ— ", "ç©º", "null", "none", "è·³è¿‡"]

ç”Ÿæˆæ–¹å¼ï¼š
ä½¿ç”¨ camera_closeup_animation ç”Ÿæˆèšç„¦è§‚å¯Ÿtimeline

ç‰¹ç‚¹ï¼š
- çº¯ç›¸æœºåŠ¨ç”»ï¼Œæ— ç‰©ä½“æ“ä½œ
- é€‚åˆè§‚å¯Ÿã€æ£€æŸ¥ã€æŸ¥çœ‹ç±»åœºæ™¯
- ç›¸æœºèšç„¦åˆ°ç›®æ ‡ç‰©ä½“åè¿”å›åŸä½ç½®
```

#### **è§„åˆ™2: ä¸‰æ®µå¼ç»„åˆæ¨¡å¼**
```
è§¦å‘æ¡ä»¶ï¼š
- "ç‰©ä½“timelineåç§°" ä¸ä¸ºç©ºä¸”æœ‰å…·ä½“å†…å®¹
- "ç‰©ä½“timelineå†…å®¹" ä¸ä¸ºç©ºä¸”æœ‰å…·ä½“å†…å®¹

ç”Ÿæˆæ–¹å¼ï¼š
ä½¿ç”¨ generate_combined_timeline ç”Ÿæˆä¸‰æ®µå¼ç»„åˆtimeline

ç‰¹ç‚¹ï¼š
- Clip1: ç›¸æœºä»å½“å‰ä½ç½®ç§»åŠ¨åˆ°ç‰©ä½“æ“ä½œä½ç½®
- Clip2: æ‰§è¡Œç‰©ä½“æ“ä½œåŠ¨ç”»ï¼ˆæ ¹æ®ç‰©ä½“timelineå†…å®¹é€‰æ‹©clip2æ ·å¼ï¼‰
- Clip3: ç›¸æœºä»æ“ä½œä½ç½®è¿”å›åˆ°åŸå§‹ä½ç½®
- ä¸‰ä¸ªclipæ— ç¼è¡”æ¥ï¼Œå½¢æˆå®Œæ•´çš„æ“ä½œæµç¨‹
```

## ğŸ¬ Clip2æ ·å¼æ™ºèƒ½é€‰æ‹©ç³»ç»Ÿ

### åŸºäºç‰©ä½“timelineå†…å®¹çš„æ ·å¼åŒ¹é…

å½“ä½¿ç”¨generate_combined_timelineæ—¶ï¼Œç³»ç»Ÿä¼šæ ¹æ®"ç‰©ä½“timelineå†…å®¹"çš„æè¿°è‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„clip2æ ·å¼ã€‚

**âš ï¸ é‡è¦åŸåˆ™**: å¦‚æœç‰©ä½“timelineå†…å®¹æè¿°ä¸æ˜ç¡®æˆ–æ— æ³•åŒ¹é…åˆ°å…·ä½“çš„ç‰©ä½“æ“ä½œç±»å‹ï¼Œ**é»˜è®¤ä½¿ç”¨camera_focus_onlyè€Œä¸æ˜¯default_bounce_animation**ã€‚

#### **å€¾å€’æ¶²ä½“ç±»å‹ - pour_liquid**
```
å…³é”®è¯åŒ¹é…ï¼š
- "å€¾å€’"ã€"å€’å…¥"ã€"å€’å‡º"ã€"æ³¨å…¥"ã€"pour"
- "æ¶²ä½“"ã€"æº¶æ¶²"ã€"è¯•å‰‚"ã€"æ°´"
- "ä»XXåˆ°YY"ã€"XXå€’å…¥YY"

åº”ç”¨åœºæ™¯ï¼š
- æ¯”è‰²çš¿å€¾å€’åˆ°åºŸæ¶²çƒ§æ¯
- è¯•å‰‚ç“¶å€’å…¥æ¯”è‰²çš¿
- ä»»ä½•æ¶²ä½“è½¬ç§»æ“ä½œ

ç‰©ä½“é¡ºåºè¦æ±‚ï¼š
ç¬¬ä¸€ä¸ªç‰©ä½“ï¼šéœ€è¦å€¾å€’çš„å®¹å™¨ï¼ˆä¸»åŠ¨ç‰©ä½“ï¼‰
å…¶ä»–ç‰©ä½“ï¼šæ¥æ”¶æ¶²ä½“çš„å®¹å™¨ï¼ˆç›®æ ‡ç‰©ä½“ï¼‰
```

#### **æ’å…¥è¿æ¥ç±»å‹ - insert_power_cable**
```
å…³é”®è¯åŒ¹é…ï¼š
- "æ’å…¥"ã€"è¿æ¥"ã€"æ¥å…¥"ã€"insert"ã€"connect"
- "ç”µæºçº¿"ã€"ç”µç¼†"ã€"æ’å¤´"ã€"çº¿ç¼†"
- "æ’åˆ°XX"ã€"è¿æ¥åˆ°XX"

åº”ç”¨åœºæ™¯ï¼š
- ç”µæºçº¿æ’å…¥è®¾å¤‡
- è¿æ¥çº¿ç¼†åˆ°ä»ªå™¨
- ä»»ä½•æ’å…¥å¼è¿æ¥æ“ä½œ

ç‰©ä½“é¡ºåºè¦æ±‚ï¼š
ç¬¬ä¸€ä¸ªç‰©ä½“ï¼šéœ€è¦æ’å…¥çš„çº¿ç¼†ï¼ˆä¸»åŠ¨ç‰©ä½“ï¼‰
å…¶ä»–ç‰©ä½“ï¼šè¢«æ’å…¥çš„è®¾å¤‡ï¼ˆç›®æ ‡ç‰©ä½“ï¼‰
```

#### **ç‰©ä½“ç§»å…¥ç±»å‹ - move_object_into**
```
å…³é”®è¯åŒ¹é…ï¼š
- "æ”¾å…¥"ã€"ç§»å…¥"ã€"è£…å…¥"ã€"ç½®å…¥"ã€"move into"
- "æ”¾åˆ°XXä¸­"ã€"ç§»åŠ¨åˆ°XX"ã€"è£…è¿›XX"

åº”ç”¨åœºæ™¯ï¼š
- æ¯”è‰²çš¿æ”¾å…¥æ ·å“å®¤
- ç‰©å“è£…å…¥å®¹å™¨
- ä»»ä½•ç‰©ä½“ç§»å…¥æ“ä½œ

ç‰©ä½“é¡ºåºè¦æ±‚ï¼š
ç¬¬ä¸€ä¸ªç‰©ä½“ï¼šéœ€è¦ç§»åŠ¨çš„ç‰©ä½“ï¼ˆä¸»åŠ¨ç‰©ä½“ï¼‰
å…¶ä»–ç‰©ä½“ï¼šç›®æ ‡å®¹å™¨æˆ–ä½ç½®ï¼ˆç›®æ ‡ç‰©ä½“ï¼‰
```

#### **ç©¿æˆ´æ“ä½œç±»å‹ - wear_gloves**
```
å…³é”®è¯åŒ¹é…ï¼š
- "ç©¿æˆ´"ã€"æˆ´ä¸Š"ã€"æˆ´"ã€"wear"ã€"put on"
- "æ‰‹å¥—"ã€"gloves"ã€"é˜²æŠ¤ç”¨å“"

åº”ç”¨åœºæ™¯ï¼š
- æˆ´æ‰‹å¥—
- ç©¿æˆ´é˜²æŠ¤è®¾å¤‡
- ä»»ä½•ç©¿æˆ´ç±»æ“ä½œ

ç‰©ä½“é¡ºåºè¦æ±‚ï¼š
é€šå¸¸åªæ¶‰åŠå•ä¸ªç‰©ä½“ï¼ˆæ‰‹å¥—ï¼‰
```

#### **ä¹¦å†™è®°å½•ç±»å‹ - notebook_writing**
```
å…³é”®è¯åŒ¹é…ï¼š
- "ä¹¦å†™"ã€"è®°å½•"ã€"å¡«å†™"ã€"å†™"ã€"writing"
- "ç¬”è®°æœ¬"ã€"è®°å½•æœ¬"ã€"è¡¨æ ¼"ã€"notebook"
- "è®°å½•æ•°æ®"ã€"å¡«å†™ä¿¡æ¯"

åº”ç”¨åœºæ™¯ï¼š
- å®éªŒæ•°æ®è®°å½•
- ç¬”è®°æœ¬ä¹¦å†™
- ä»»ä½•è®°å½•ç±»æ“ä½œ

ç‰©ä½“é¡ºåºè¦æ±‚ï¼š
é€šå¸¸åªæ¶‰åŠå•ä¸ªç‰©ä½“ï¼ˆç¬”è®°æœ¬ï¼‰
```

#### **æŒ‰å‹æ“ä½œç±»å‹ - default_bounce_animation**
```
å…³é”®è¯åŒ¹é…ï¼š
- "æŒ‰ä¸‹"ã€"æŒ‰å‹"ã€"ç‚¹å‡»"ã€"press"ã€"click"
- "æŒ‰é’®"ã€"å¼€å…³"ã€"button"ã€"switch"
- "å¯åŠ¨"ã€"å¼€å¯"ã€"å…³é—­"

åº”ç”¨åœºæ™¯ï¼š
- æŒ‰ä¸‹è®¾å¤‡æŒ‰é’®
- æ“ä½œå¼€å…³
- æ˜ç¡®çš„æŒ‰å‹ç±»æ“ä½œ

ç‰©ä½“é¡ºåºè¦æ±‚ï¼š
é€šå¸¸åªæ¶‰åŠå•ä¸ªç‰©ä½“ï¼ˆæŒ‰é’®ï¼‰
```

#### **çº¯ç›¸æœºèšç„¦ - camera_focus_only**
```
å…³é”®è¯åŒ¹é…ï¼š
- "è§‚å¯Ÿ"ã€"æŸ¥çœ‹"ã€"æ£€æŸ¥"ã€"è§‚çœ‹"ã€"focus"
- "èšç„¦"ã€"ç‰¹å†™"ã€"close-up"
- æ— å…·ä½“ç‰©ä½“æ“ä½œæè¿°

åº”ç”¨åœºæ™¯ï¼š
- çº¯è§‚å¯Ÿç±»åŠ¨ä½œ
- æ£€æŸ¥è®¾å¤‡çŠ¶æ€
- æ— ç‰©ä½“äº¤äº’çš„èšç„¦

ç‰©ä½“é¡ºåºè¦æ±‚ï¼š
ç›®æ ‡ç‰©ä½“ä½œä¸ºèšç„¦å¯¹è±¡
```

## ğŸ“‹ è¯¦ç»†æ‰§è¡Œæµç¨‹

### ç¬¬ä¸€æ­¥ï¼šè·å–NodeGraphä¿¡æ¯
```
ä½¿ç”¨ä»¥ä¸‹MCPå‡½æ•°è·å–åŸºç¡€ä¿¡æ¯ï¼š
1. get_flow_event_node_names(name="NodeGraphName", path="NodeGraphPath") 
   # è·å–æ‰€æœ‰FlowEventNodeèŠ‚ç‚¹åç§°åˆ—è¡¨

2. find_camera_objects() 
   # è·å–åœºæ™¯ä¸­çš„ç›¸æœºå¯¹è±¡

3. get_all_scene_objects() 
   # è·å–æ‰€æœ‰å¯ç”¨ç‰©ä½“

ç‰©ä½“æŸ¥æ‰¾è§„åˆ™ï¼š
- Main Cameraï¼šç›´æ¥åœ¨åœºæ™¯æ ¹ç›®å½•ä¸‹
- æ‰€æœ‰å®éªŒç‰©ä½“ï¼šå­˜æ”¾åœ¨GameObjectRootç‰©ä½“ä¸‹ä½œä¸ºå­ç‰©ä½“
- æŸ¥æ‰¾ç‰©ä½“æ—¶éœ€è¦åœ¨GameObjectRootä¸‹æœç´¢ï¼ˆé™¤ç›¸æœºå¤–ï¼‰
```

### ç¬¬äºŒæ­¥ï¼šéå†æ‰€æœ‰FlowEventNodeèŠ‚ç‚¹
```
å¯¹æ¯ä¸ªFlowEventNodeæ‰§è¡Œä»¥ä¸‹åˆ†æï¼š

1. ä½¿ç”¨ get_flow_event_node_by_name(name="NodeGraphName", event_name="èŠ‚ç‚¹åç§°")
   æå–å››ä¸ªå…³é”®å­—æ®µï¼š
   - camera_timeline_name ï¼ˆç›¸æœºtimelineåç§°ï¼‰
   - camera_timeline_content ï¼ˆç›¸æœºtimelineå†…å®¹ï¼‰
   - object_timeline_name ï¼ˆç‰©ä½“timelineåç§°ï¼‰
   - object_timeline_content ï¼ˆç‰©ä½“timelineå†…å®¹ï¼‰

2. æ‰§è¡Œæ™ºèƒ½åˆ¤æ–­é€»è¾‘
3. é€‰æ‹©åˆé€‚çš„ç”Ÿæˆæ–¹å¼
4. ç”Ÿæˆç›¸åº”çš„timeline
5. å…³è”å›NodeGraphèŠ‚ç‚¹
```

### ç¬¬ä¸‰æ­¥ï¼šæ™ºèƒ½åˆ¤æ–­ä¸ç”Ÿæˆ

#### **åˆ¤æ–­é€»è¾‘æµç¨‹å›¾**
```
å¼€å§‹å¤„ç†èŠ‚ç‚¹
    â†“
æ£€æŸ¥ object_timeline_name å’Œ object_timeline_content
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç‰©ä½“timelineä¸ºç©º  â”‚  ç‰©ä½“timelineä¸ä¸ºç©º  â”‚
â”‚  æˆ–åŒ…å«è·³è¿‡å…³é”®è¯   â”‚  ä¸”æœ‰å…·ä½“æè¿°å†…å®¹   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“                     â†“
ä½¿ç”¨ camera_closeup      ä½¿ç”¨ generate_combined
_animation ç”Ÿæˆ          _timeline ç”Ÿæˆä¸‰æ®µå¼
çº¯ç›¸æœºèšç„¦timeline       ç»„åˆtimeline
    â†“                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ†æç›¸æœºtimeline   â”‚  â”‚ 1.åˆ†æç›¸æœºtimeline â”‚
â”‚ å†…å®¹ï¼Œæå–ç›®æ ‡ç‰©ä½“  â”‚  â”‚ 2.åˆ†æç‰©ä½“timeline â”‚
â”‚ ç”Ÿæˆèšç„¦åŠ¨ç”»      â”‚  â”‚ 3.é€‰æ‹©clip2æ ·å¼   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ 4.ç”Ÿæˆä¸‰æ®µå¼åŠ¨ç”»   â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### **å…·ä½“ç”Ÿæˆè°ƒç”¨**

**æ–¹å¼1ï¼šçº¯ç›¸æœºèšç„¦**
```python
# å½“ç‰©ä½“timelineä¸ºç©ºæ—¶è°ƒç”¨
camera_closeup_animation(
    camera_name="Main Camera",
    target_object_name="ä»ç›¸æœºtimelineå†…å®¹ä¸­è¯†åˆ«çš„ç›®æ ‡ç‰©ä½“",
    duration=6,  # æ ¹æ®å¤æ‚åº¦è°ƒæ•´
    timeline_asset_name="èŠ‚ç‚¹åç§°_ç›¸æœºèšç„¦",
    move_to_start=True,
    return_to_origin=True
)
```

**æ–¹å¼2ï¼šä¸‰æ®µå¼ç»„åˆ**
```python
# å½“ç‰©ä½“timelineä¸ä¸ºç©ºæ—¶è°ƒç”¨
generate_combined_timeline(
    timeline_name="èŠ‚ç‚¹åç§°_ç»„åˆåŠ¨ç”»",
    target_object_name="ç‰©ä½“åç§°,ç›¸å…³ç‰©ä½“åç§°",  # ä¸»åŠ¨ç‰©ä½“åœ¨å‰
    clip2_function_name="æ ¹æ®ç‰©ä½“timelineå†…å®¹é€‰æ‹©çš„clip2æ ·å¼",
    interaction_objects=["ç‰©ä½“1", "ç‰©ä½“2", ...],  # ä»æè¿°ä¸­æå–
    camera_name="Main Camera",
    clip_duration=5,  # æ ¹æ®åŠ¨ç”»å¤æ‚åº¦è°ƒæ•´
    operation_object_name="ä¸»æ“ä½œç‰©ä½“åç§°",
    enable_smart_positioning=True,
    desk_object_name="å®éªŒæ¡Œ",
    fov=45,
    pitch_angle=35,
    padding=1.2,
    force_reset_rotation_y=True
)
```

### ç¬¬å››æ­¥ï¼šç‰©ä½“è¯†åˆ«ä¸å‚æ•°å¤„ç†

#### **ç›®æ ‡ç‰©ä½“æ™ºèƒ½è¯†åˆ«**
```
ä»timelineå†…å®¹æè¿°ä¸­æå–ç‰©ä½“åç§°ï¼š

1. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ¨¡å¼ï¼š
   - ä¸­æ–‡ç‰©ä½“åç§°ï¼š[\u4e00-\u9fa5]+
   - è‹±æ–‡ç‰©ä½“åç§°ï¼š[A-Za-z][A-Za-z0-9_]*
   - æ•°å­—ç¼–å·ï¼š\d+

2. åœºæ™¯ç‰©ä½“æŸ¥æ‰¾ï¼š
   - ä½¿ç”¨ find_objects_by_name_pattern() è¿›è¡Œæ¨¡ç³ŠåŒ¹é…
   - ç›¸æœºç±»ç‰©ä½“ï¼šåœ¨åœºæ™¯æ ¹ç›®å½•ä¸‹æŸ¥æ‰¾
   - å®éªŒç‰©ä½“ï¼šåœ¨GameObjectRootä¸‹æŸ¥æ‰¾æ‰€æœ‰å­ç‰©ä½“
   - æ”¯æŒä¸­è‹±æ–‡ç‰©ä½“åç§°æ··åˆè¯†åˆ«

3. ç‰©ä½“é¡ºåºå¤„ç†ï¼š
   - å¯¹äºéœ€è¦äº¤äº’çš„timelineï¼Œç¡®ä¿ä¸»åŠ¨ç‰©ä½“åœ¨å‰
   - è¢«åŠ¨ç‰©ä½“ï¼ˆç›®æ ‡ã€å®¹å™¨ï¼‰åœ¨å
   - ä¿æŒç‰©ä½“æ“ä½œçš„é€»è¾‘é¡ºåº
```

#### **Clip2æ ·å¼è‡ªåŠ¨é€‰æ‹©**
```python
def select_clip2_style(object_timeline_content):
    """
    æ ¹æ®ç‰©ä½“timelineå†…å®¹è‡ªåŠ¨é€‰æ‹©clip2æ ·å¼
    """
    content = object_timeline_content.lower()
    
    # å€¾å€’æ¶²ä½“ç±»å‹
    if any(keyword in content for keyword in 
           ["å€¾å€’", "å€’å…¥", "å€’å‡º", "æ³¨å…¥", "pour", "æ¶²ä½“", "æº¶æ¶²"]):
        return "pour_liquid"
    
    # æ’å…¥è¿æ¥ç±»å‹  
    elif any(keyword in content for keyword in 
             ["æ’å…¥", "è¿æ¥", "æ¥å…¥", "insert", "connect", "ç”µæºçº¿", "æ’å¤´"]):
        return "insert_power_cable"
    
    # ç‰©ä½“ç§»å…¥ç±»å‹
    elif any(keyword in content for keyword in 
             ["æ”¾å…¥", "ç§»å…¥", "è£…å…¥", "ç½®å…¥", "move into"]):
        return "move_object_into"
    
    # ç©¿æˆ´æ“ä½œç±»å‹
    elif any(keyword in content for keyword in 
             ["ç©¿æˆ´", "æˆ´ä¸Š", "æˆ´", "wear", "put on", "æ‰‹å¥—", "gloves"]):
        return "wear_gloves"
    
    # ä¹¦å†™è®°å½•ç±»å‹
    elif any(keyword in content for keyword in 
             ["ä¹¦å†™", "è®°å½•", "å¡«å†™", "å†™", "writing", "ç¬”è®°æœ¬", "notebook"]):
        return "notebook_writing"
    
    # æŒ‰å‹æ“ä½œç±»å‹
    elif any(keyword in content for keyword in 
             ["æŒ‰ä¸‹", "æŒ‰å‹", "ç‚¹å‡»", "press", "click", "æŒ‰é’®", "å¼€å…³"]):
        return "default_bounce_animation"
    
    # çº¯è§‚å¯Ÿç±»å‹
    elif any(keyword in content for keyword in 
             ["è§‚å¯Ÿ", "æŸ¥çœ‹", "æ£€æŸ¥", "è§‚çœ‹", "focus", "èšç„¦"]):
        return "camera_focus_only"
    
    # âš ï¸ é»˜è®¤ä½¿ç”¨çº¯ç›¸æœºèšç„¦ï¼ˆè€Œéå¼¹è·³åŠ¨ç”»ï¼‰
    else:
        return "camera_focus_only"
```

### ç¬¬äº”æ­¥ï¼šTimelineå…³è”ä¸ä¿å­˜

#### **Timelineèµ„äº§å…³è”**
```python
# æ ¹æ®ç”Ÿæˆçš„timelineç±»å‹è¿›è¡Œå…³è”

# æ–¹å¼1ï¼šcamera_closeup_animation ç”Ÿæˆçš„èšç„¦timeline
update_flow_event_node_timeline_assets(
    name="NodeGraphName",
    event_name="èŠ‚ç‚¹åç§°",
    camera_timeline_asset="Assets/Timeline/èŠ‚ç‚¹åç§°_ç›¸æœºèšç„¦.playable",
    object_timeline_asset=None  # çº¯ç›¸æœºtimelineï¼Œæ— ç‰©ä½“timeline
)

# æ–¹å¼2ï¼šgenerate_combined_timeline ç”Ÿæˆçš„ç»„åˆtimeline  
update_flow_event_node_timeline_assets(
    name="NodeGraphName",
    event_name="èŠ‚ç‚¹åç§°",
    camera_timeline_asset="Assets/Timeline/èŠ‚ç‚¹åç§°_ç»„åˆåŠ¨ç”».playable",
    object_timeline_asset=None  # ç»„åˆtimelineåªç”Ÿæˆä¸€ä¸ªèµ„äº§æ–‡ä»¶
)
```

#### **æ‰¹é‡ä¿å­˜**
```python
# å¤„ç†å®Œæ‰€æœ‰èŠ‚ç‚¹åç»Ÿä¸€ä¿å­˜
save_nodegraph_changes(name="NodeGraphName", path="NodeGraphPath")
```

### ç¬¬å…­æ­¥ï¼šé”™è¯¯å¤„ç†ä¸æ—¥å¿—

#### **é”™è¯¯å¤„ç†ç­–ç•¥**
```
1. ç‰©ä½“è¯†åˆ«å¤±è´¥ï¼š
   - å°è¯•æ¨¡ç³ŠåŒ¹é…ç›¸ä¼¼åç§°çš„ç‰©ä½“
   - ä½¿ç”¨é»˜è®¤ç›®æ ‡ç‰©ä½“ï¼ˆå¦‚"å®éªŒæ¡Œ"ï¼‰
   - è®°å½•è­¦å‘Šä¿¡æ¯ä½†ç»§ç»­æ‰§è¡Œ

2. Clip2æ ·å¼è¯†åˆ«å¤±è´¥ï¼š
   - ä½¿ç”¨é»˜è®¤çš„ "camera_focus_only"ï¼ˆè€Œédefault_bounce_animationï¼‰
   - è®°å½•ä½¿ç”¨é»˜è®¤æ ·å¼çš„åŸå› 

3. Timelineç”Ÿæˆå¤±è´¥ï¼š
   - è®°å½•è¯¦ç»†é”™è¯¯ä¿¡æ¯
   - è·³è¿‡å½“å‰èŠ‚ç‚¹ï¼Œç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ª
   - åœ¨æœ€ç»ˆæŠ¥å‘Šä¸­åˆ—å‡ºå¤±è´¥èŠ‚ç‚¹

4. èŠ‚ç‚¹å…³è”å¤±è´¥ï¼š
   - è®°å½•å…³è”å¤±è´¥çš„timelineèµ„äº§è·¯å¾„
   - ä¸å½±å“å…¶ä»–èŠ‚ç‚¹çš„å¤„ç†
```

#### **è¯¦ç»†è¿›åº¦æ˜¾ç¤º**
```
=== NodeGraphæ™ºèƒ½Timelineè‡ªåŠ¨ç”Ÿæˆ ===
ç›®æ ‡NodeGraph: Example.asset
èŠ‚ç‚¹æ€»æ•°: 15ä¸ª

[1/15] å¤„ç†èŠ‚ç‚¹: "æ£€æŸ¥å™¨å…·é½å…¨"
  â”œâ”€ ç›¸æœºtimeline: "æ£€æŸ¥å™¨å…·é½å…¨_é•œå¤´" | å†…å®¹: "ä½¿ç”¨èšç„¦timelineæ ¼å¼..."
  â”œâ”€ ç‰©ä½“timeline: "" | å†…å®¹: ""
  â”œâ”€ åˆ¤æ–­ç»“æœ: ç‰©ä½“timelineä¸ºç©º â†’ ä½¿ç”¨camera_closeup_animation
  â”œâ”€ ç›®æ ‡ç‰©ä½“: "å®éªŒæ¡Œ"
  â”œâ”€ ç”Ÿæˆç»“æœ: âœ…æˆåŠŸ
  â””â”€ Timelineèµ„äº§: "Assets/Timeline/æ£€æŸ¥å™¨å…·é½å…¨_ç›¸æœºèšç„¦.playable"

[2/15] å¤„ç†èŠ‚ç‚¹: "è¿æ¥ä»ªå™¨ç”µæº"
  â”œâ”€ ç›¸æœºtimeline: "è¿æ¥ä»ªå™¨ç”µæº_é•œå¤´" | å†…å®¹: "é•œå¤´ä»å½“å‰ç‚¹ä½å‡ºå‘..."
  â”œâ”€ ç‰©ä½“timeline: "è¿æ¥ä»ªå™¨ç”µæº_ç”µæºçº¿" | å†…å®¹: "ç”µæºçº¿ä»ç›®å‰ç‚¹ä½å¹³ç§»åˆ°..."
  â”œâ”€ åˆ¤æ–­ç»“æœ: ç‰©ä½“timelineä¸ä¸ºç©º â†’ ä½¿ç”¨generate_combined_timeline
  â”œâ”€ Clip2æ ·å¼: insert_power_cable (æ£€æµ‹åˆ°å…³é”®è¯: ç”µæºçº¿, æ’å…¥)
  â”œâ”€ ç›®æ ‡ç‰©ä½“: "ç”µæºçº¿,ç´«å¤–å¯è§å…‰åˆ†å…‰ä»ª"
  â”œâ”€ ç”Ÿæˆç»“æœ: âœ…æˆåŠŸ
  â””â”€ Timelineèµ„äº§: "Assets/Timeline/è¿æ¥ä»ªå™¨ç”µæº_ç»„åˆåŠ¨ç”».playable"

[3/15] å¤„ç†èŠ‚ç‚¹: "æŒ‰ä¸‹ç”µæºæŒ‰é’®"
  â”œâ”€ ç›¸æœºtimeline: "æŒ‰ä¸‹ç”µæºæŒ‰é’®_é•œå¤´" | å†…å®¹: "é•œå¤´ä»å½“å‰ç‚¹ä½å‡ºå‘..."
  â”œâ”€ ç‰©ä½“timeline: "æŒ‰ä¸‹ç”µæºæŒ‰é’®_ç”µæºæŒ‰é’®" | å†…å®¹: "ç”µæºæŒ‰é’®å‘ä¸‹æŒ‰å‹2mm..."
  â”œâ”€ åˆ¤æ–­ç»“æœ: ç‰©ä½“timelineä¸ä¸ºç©º â†’ ä½¿ç”¨generate_combined_timeline
  â”œâ”€ Clip2æ ·å¼: default_bounce_animation (æ£€æµ‹åˆ°å…³é”®è¯: æŒ‰ä¸‹, æŒ‰é’®)
  â”œâ”€ ç›®æ ‡ç‰©ä½“: "ç”µæºæŒ‰é’®"
  â”œâ”€ ç”Ÿæˆç»“æœ: âœ…æˆåŠŸ
  â””â”€ Timelineèµ„äº§: "Assets/Timeline/æŒ‰ä¸‹ç”µæºæŒ‰é’®_ç»„åˆåŠ¨ç”».playable"

...

=== ç”Ÿæˆç»Ÿè®¡æŠ¥å‘Š ===
æ€»èŠ‚ç‚¹æ•°: 15
æˆåŠŸç”Ÿæˆ: 14
è·³è¿‡å¤„ç†: 1 (åŸå› : timelineå†…å®¹ä¸ºç©º)
å¤±è´¥èŠ‚ç‚¹: 0

ç”Ÿæˆæ–¹å¼åˆ†å¸ƒ:
- camera_closeup_animation: 6ä¸ª
- generate_combined_timeline: 8ä¸ª

Clip2æ ·å¼åˆ†å¸ƒ:
- insert_power_cable: 1ä¸ª
- default_bounce_animation: 4ä¸ª
- move_object_into: 2ä¸ª
- pour_liquid: 1ä¸ª

æ‰€æœ‰Timelineå·²æˆåŠŸå…³è”åˆ°NodeGraphå¹¶ä¿å­˜å®Œæˆï¼
```

## ğŸ”§ ç³»ç»Ÿé…ç½®å‚æ•°

### **é»˜è®¤é…ç½®**
```python
TIMELINE_CONFIG = {
    # åŸºç¡€å‚æ•°
    "camera_name": "Main Camera",
    "default_duration": 6.0,
    "default_clip_duration": 5.0,
    "move_to_start": True,
    "return_to_origin": True,
    
    # ç›¸æœºå‚æ•°
    "default_fov": 45,
    "default_pitch_angle": 35,
    "default_padding": 1.2,
    "force_reset_rotation_y": True,
    
    # ç©ºå€¼å…³é”®è¯
    "skip_keywords": ["-", "æ— ", "ç©º", "null", "none", "è·³è¿‡", "", " "],
    
    # åœºæ™¯ç»“æ„
    "scene_structure": {
        "camera_parent": None,  # ç›¸æœºåœ¨åœºæ™¯æ ¹ç›®å½•
        "objects_parent": "GameObjectRoot",  # å®éªŒç‰©ä½“åœ¨GameObjectRootä¸‹
        "desk_object_name": "å®éªŒæ¡Œ"
    },
    
    # Timelineç®¡ç†å™¨
    "timeline_manager": {
        "name": "TimelineManager",
        "script_path": "Assets/NodeGraphTool/Runtime/Manager/TimelineManager.cs",
        "auto_create": True
    }
}
```

### **Clip2æ ·å¼å…³é”®è¯é…ç½®**
```python
CLIP2_KEYWORDS = {
    "pour_liquid": ["å€¾å€’", "å€’å…¥", "å€’å‡º", "æ³¨å…¥", "pour", "æ¶²ä½“", "æº¶æ¶²", "è¯•å‰‚"],
    "insert_power_cable": ["æ’å…¥", "è¿æ¥", "æ¥å…¥", "insert", "connect", "ç”µæºçº¿", "æ’å¤´", "çº¿ç¼†"],
    "move_object_into": ["æ”¾å…¥", "ç§»å…¥", "è£…å…¥", "ç½®å…¥", "move into", "æ”¾åˆ°", "è£…è¿›"],
    "wear_gloves": ["ç©¿æˆ´", "æˆ´ä¸Š", "æˆ´", "wear", "put on", "æ‰‹å¥—", "gloves"],
    "notebook_writing": ["ä¹¦å†™", "è®°å½•", "å¡«å†™", "å†™", "writing", "ç¬”è®°æœ¬", "notebook", "è®°å½•æœ¬"],
    "default_bounce_animation": ["æŒ‰ä¸‹", "æŒ‰å‹", "ç‚¹å‡»", "press", "click", "æŒ‰é’®", "å¼€å…³", "button"],
    "camera_focus_only": ["è§‚å¯Ÿ", "æŸ¥çœ‹", "æ£€æŸ¥", "è§‚çœ‹", "focus", "èšç„¦", "ç‰¹å†™"]
}
```

## ğŸš€ å®Œæ•´æ‰§è¡ŒæŒ‡ä»¤

### **ç«‹å³æ‰§è¡Œå‘½ä»¤**
```
è¯·ä½ ä½œä¸ºAIåŠ©æ‰‹ï¼Œç°åœ¨å¼€å§‹æ‰§è¡ŒNodeGraph SOæ–‡ä»¶çš„æ™ºèƒ½Timelineè‡ªåŠ¨ç”Ÿæˆå·¥ä½œã€‚

ç›®æ ‡NodeGraphï¼š
- åç§°ï¼š"NodeGraphName" 
- è·¯å¾„ï¼š"NodeGraphPath"

æ‰§è¡Œè§„åˆ™ï¼š
1. éå†NodeGraphä¸­æ‰€æœ‰FlowEventNodeèŠ‚ç‚¹çš„timelineæè¿°ä¿¡æ¯
2. æ™ºèƒ½åˆ†æå››ä¸ªå­—æ®µï¼šç›¸æœºtimelineåç§°ã€ç›¸æœºtimelineå†…å®¹ã€ç‰©ä½“timelineåç§°ã€ç‰©ä½“timelineå†…å®¹
3. æ ¹æ®ç‰©ä½“timelineæ˜¯å¦ä¸ºç©ºé€‰æ‹©ç”Ÿæˆæ–¹å¼ï¼š
   - ç‰©ä½“timelineä¸ºç©º â†’ camera_closeup_animationï¼ˆçº¯ç›¸æœºèšç„¦ï¼‰
   - ç‰©ä½“timelineä¸ä¸ºç©º â†’ generate_combined_timelineï¼ˆä¸‰æ®µå¼ç»„åˆï¼‰
4. å¯¹äºä¸‰æ®µå¼ç»„åˆï¼Œæ ¹æ®ç‰©ä½“timelineå†…å®¹æ™ºèƒ½é€‰æ‹©clip2æ ·å¼
5. ç”Ÿæˆtimelineå¹¶å…³è”å›NodeGraphèŠ‚ç‚¹
6. ä¿å­˜æ‰€æœ‰ä¿®æ”¹

åœºæ™¯ç»“æ„è¯´æ˜ï¼š
- ç›¸æœºç‰©ä½“ï¼šåœ¨åœºæ™¯æ ¹ç›®å½•ä¸‹æŸ¥æ‰¾
- å®éªŒç‰©ä½“ï¼šåœ¨GameObjectRootç‰©ä½“ä¸‹æŸ¥æ‰¾
- ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºTimelineManagerè¿›è¡Œç»Ÿä¸€ç®¡ç†

è¯·è¯¦ç»†æ˜¾ç¤ºæ¯ä¸ªèŠ‚ç‚¹çš„å¤„ç†è¿‡ç¨‹ï¼ŒåŒ…æ‹¬ï¼š
- æå–çš„å››ä¸ªtimelineå­—æ®µå†…å®¹
- åˆ¤æ–­é€»è¾‘å’Œé€‰æ‹©çš„ç”Ÿæˆæ–¹å¼
- è¯†åˆ«çš„ç›®æ ‡ç‰©ä½“å’Œclip2æ ·å¼ï¼ˆå¦‚é€‚ç”¨ï¼‰
- ç”Ÿæˆç»“æœå’Œtimelineèµ„äº§è·¯å¾„
- é”™è¯¯ä¿¡æ¯ï¼ˆå¦‚æœ‰ï¼‰

æœ€åæä¾›å®Œæ•´çš„ç»Ÿè®¡æŠ¥å‘Šã€‚ç°åœ¨å¼€å§‹æ‰§è¡Œï¼
```

### **ä½¿ç”¨ç¤ºä¾‹**
```
# æ›¿æ¢NodeGraphNameå’ŒNodeGraphPathä¸ºå®é™…å€¼
è¯·æ‰§è¡Œä»¥ä¸‹NodeGraphçš„æ™ºèƒ½Timelineç”Ÿæˆï¼š

ç›®æ ‡NodeGraphï¼š
- åç§°ï¼š"ç´«å¤–å¯è§å…‰å…‰åº¦è®¡æµ‹é‡å®éªŒ_v1.0_20241217"
- è·¯å¾„ï¼š"Assets/ç´«å¤–å¯è§å…‰å…‰åº¦è®¡æµ‹é‡å®éªŒ"

ç«‹å³å¼€å§‹æ™ºèƒ½åˆ†æå’Œç”Ÿæˆï¼
```

## ğŸ“‹ æ€»ç»“

æœ¬ç³»ç»Ÿå®ç°äº†å®Œå…¨è‡ªåŠ¨åŒ–çš„Timelineç”Ÿæˆæµç¨‹ï¼š
1. **æ™ºèƒ½éå†**ï¼šè‡ªåŠ¨éå†NodeGraphä¸­æ‰€æœ‰timelineæè¿°
2. **æ™ºèƒ½åˆ¤æ–­**ï¼šåŸºäºç‰©ä½“timelineæ˜¯å¦ä¸ºç©ºè¿›è¡Œç”Ÿæˆæ–¹å¼é€‰æ‹©
3. **æ™ºèƒ½åŒ¹é…**ï¼šæ ¹æ®æè¿°å†…å®¹è‡ªåŠ¨é€‰æ‹©æœ€åˆé€‚çš„clip2æ ·å¼
4. **æ™ºèƒ½å…³è”**ï¼šè‡ªåŠ¨å°†ç”Ÿæˆçš„timelineå…³è”å›NodeGraphèŠ‚ç‚¹
5. **ç»Ÿä¸€ç®¡ç†**ï¼šä½¿ç”¨TimelineManagerè¿›è¡Œç»Ÿä¸€çš„timelineç®¡ç†

é€šè¿‡è¿™å¥—ç³»ç»Ÿï¼Œå¯ä»¥å®ç°ä»NodeGraphæè¿°åˆ°å®é™…timelineçš„å®Œå…¨è‡ªåŠ¨åŒ–è½¬æ¢ï¼Œå¤§å¤§æé«˜timelineåˆ›å»ºæ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚


